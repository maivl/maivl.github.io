(function(e){function t(t){for(var l,s,c=t[0],o=t[1],r=t[2],d=0,b=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&b.push(a[s][0]),a[s]=0;for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l]);u&&u(t);while(b.length)b.shift()();return n.push.apply(n,r||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],l=!0,c=1;c<i.length;c++){var o=i[c];0!==a[o]&&(l=!1)}l&&(n.splice(t--,1),e=s(s.s=i[0]))}return e}var l={},a={app:0},n=[];function s(t){if(l[t])return l[t].exports;var i=l[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=l,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)s.d(i,l,function(t){return e[t]}.bind(null,l));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var r=0;r<c.length;r++)t(c[r]);var u=o;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"2a6f":function(e,t,i){},6258:function(e,t,i){},9378:function(e,t,i){"use strict";i("6258")},a766:function(e,t,i){},c716:function(e,t,i){"use strict";i("2a6f")},cd49:function(e,t,i){"use strict";i.r(t);var l=i("7a23");const a={class:"view-panel"},n=Object(l["i"])("div",{class:"icp"},[Object(l["i"])("a",{href:"http://www.beian.miit.gov.cn/",target:"_blank"},"沪ICP备14016277号-1")],-1);function s(e,t){const i=Object(l["E"])("router-view");return Object(l["y"])(),Object(l["f"])(l["a"],null,[Object(l["i"])("div",a,[Object(l["i"])(i)]),n],64)}i("9378");const c={};c.render=s;var o=c,r=i("6c02"),u=i("cf05"),d=i.n(u);const b=Object(l["M"])("data-v-27c90657");Object(l["B"])("data-v-27c90657");const f={class:"section-input"},p={class:"type-switch"},j={key:0,class:"type-text"},O={key:1,class:"type-file"},h={class:"file-wrapper"},m={key:0},v={class:"section-result"},y={key:0},w={key:0,class:"text-result"},g={key:1},x={key:0,class:"file-result"},R={key:0,style:{"text-align":"center"}},k={key:1},L=Object(l["h"])("下载"),_={class:"section-btn-group"},V=Object(l["h"])("加密"),U=Object(l["h"])("解密"),E={class:"section-rest-panel"};Object(l["z"])();const z=b((e,t,i,a,n,s)=>{const c=Object(l["E"])("van-loading"),o=Object(l["E"])("van-overlay"),r=Object(l["E"])("van-notice-bar"),u=Object(l["E"])("van-switch"),z=Object(l["E"])("van-field"),N=Object(l["E"])("van-cell-group"),S=Object(l["E"])("van-uploader"),T=Object(l["E"])("van-form"),P=Object(l["E"])("van-cell"),D=Object(l["E"])("van-button"),I=Object(l["E"])("van-col"),A=Object(l["E"])("van-row");return Object(l["y"])(),Object(l["f"])(l["a"],null,[Object(l["i"])(o,{show:e.loading,"class-name":"loading-panel"},{default:b(()=>[Object(l["i"])("div",null,[Object(l["i"])(c,{type:"spinner",color:"#1989fa"})])]),_:1},8,["show"]),Object(l["i"])(r,{wrapable:"",scrollable:!1,text:"仅用来测试，请谨慎使用"}),Object(l["i"])("section",f,[Object(l["i"])(T,{onSubmit:e.onSubmit},{default:b(()=>[Object(l["i"])("div",p,[Object(l["i"])(u,{modelValue:e.isText,"onUpdate:modelValue":t[1]||(t[1]=t=>e.isText=t),"inactive-color":"#ff976a"},null,8,["modelValue"])]),Object(l["i"])(N,null,{default:b(()=>[Object(l["i"])(z,{modelValue:e.key,"onUpdate:modelValue":t[2]||(t[2]=t=>e.key=t),name:"Key",label:"密钥",placeholder:"Key",maxlength:"16"},null,8,["modelValue"]),Object(l["i"])(z,{modelValue:e.iv,"onUpdate:modelValue":t[3]||(t[3]=t=>e.iv=t),name:"Iv",label:"Iv",placeholder:"Iv",maxlength:"16"},null,8,["modelValue"])]),_:1}),e.isText?(Object(l["y"])(),Object(l["f"])("div",j,[Object(l["i"])(z,{modelValue:e.text,"onUpdate:modelValue":t[4]||(t[4]=t=>e.text=t),rows:"3",autosize:"",label:"文本",type:"textarea",placeholder:"Text"},null,8,["modelValue"])])):(Object(l["y"])(),Object(l["f"])("div",O,[Object(l["i"])("div",h,[Object(l["i"])(S,{"after-read":e.afterRead,"before-delete":e.beforeDelete,modelValue:e.fileList,"onUpdate:modelValue":t[5]||(t[5]=t=>e.fileList=t),"max-count":1,accept:"image/*,audio/*,video/*,text/*,application/*,.zip,.rar,.ppt,.pptx"},null,8,["after-read","before-delete","modelValue"]),e.fileList[0]?(Object(l["y"])(),Object(l["f"])("p",m,Object(l["H"])(e.formatSize(e.fileList[0].file.size)),1)):Object(l["g"])("",!0)])]))]),_:1},8,["onSubmit"])]),Object(l["i"])("section",v,[e.isText?(Object(l["y"])(),Object(l["f"])("div",y,[Object(l["i"])(P,null,{default:b(()=>[e.textResult?(Object(l["y"])(),Object(l["f"])("div",w,[Object(l["i"])("p",null,Object(l["H"])(e.textResult),1)])):Object(l["g"])("",!0)]),_:1})])):(Object(l["y"])(),Object(l["f"])("div",g,[e.fileListResult[0]&&e.fileList.length?(Object(l["y"])(),Object(l["f"])("div",x,[Object(l["i"])(N,null,{default:b(()=>[Object(l["i"])(P,null,{default:b(()=>[Object(l["i"])(z,{modelValue:e.downloadName,"onUpdate:modelValue":t[6]||(t[6]=t=>e.downloadName=t),placeholder:"请输入文件名",rows:"3",type:"textarea"},null,8,["modelValue"])]),_:1}),e.isDecode?(Object(l["y"])(),Object(l["f"])(P,{key:0,class:"media-wrapper"},{default:b(()=>[e.filename.match(/\.(jpg|png|jpeg|gif)$/i)?(Object(l["y"])(),Object(l["f"])("div",R,[Object(l["i"])("img",{src:e.fileListResult[0].src,onClick:t[7]||(t[7]=(...t)=>e.previewResult&&e.previewResult(...t))},null,8,["src"])])):Object(l["g"])("",!0),e.filename.match(/\.(mov|mp4|mpeg|avi|wmv|flv|rmvb|mp3)$/i)?(Object(l["y"])(),Object(l["f"])("div",k,[Object(l["i"])("video",{src:e.fileListResult[0].src,controls:"controls",preload:"",poster:d.a,width:"480",height:"320","webkit-playsinline":"",playsinline:"","x-webkit-airplay":"allow","x5-playsinline":"",style:{width:"100%",height:"100%",display:"block",position:"relative"}},null,8,["src"])])):Object(l["g"])("",!0)]),_:1})):Object(l["g"])("",!0),Object(l["i"])(P,null,{default:b(()=>[Object(l["i"])("a",{href:e.fileListResult[0].src,download:e.fileResultName,target:"_blank",class:"download"},[L,Object(l["i"])("span",null,"("+Object(l["H"])(e.formatSize(e.fileListResult[0].size))+")",1)],8,["href","download"])]),_:1})]),_:1})])):Object(l["g"])("",!0)]))]),Object(l["i"])("section",_,[Object(l["i"])(A,null,{default:b(()=>[Object(l["i"])(I,{span:"12"},{default:b(()=>[Object(l["i"])(D,{type:"primary",class:"btn",onClick:t[8]||(t[8]=t=>e.checkRules("encode"))},{default:b(()=>[V]),_:1})]),_:1}),Object(l["i"])(I,{span:"12"},{default:b(()=>[Object(l["i"])(D,{type:"default",class:"btn",onClick:t[9]||(t[9]=t=>e.checkRules("decode"))},{default:b(()=>[U]),_:1})]),_:1})]),_:1})]),Object(l["i"])("section",E,[Object(l["i"])("a",{href:"javascript:;",onClick:t[10]||(t[10]=(...t)=>e.resetData&&e.resetData(...t))},"重置")])],64)});var N=i("f564"),S=i("28a2");function T(e){const t=new Blob([e],{type:"text/plain"});return new Promise(e=>{const i=new FileReader;i.onload=()=>{const t=new Uint8Array(i.result);e(t)},i.readAsArrayBuffer(t)})}function P(e){return new Promise(t=>{const i=new FileReader;i.onload=function(){t(this.result)},i.readAsArrayBuffer(e)})}function D(){return new Worker(i.p+"js/aes.worker.ef7be4b9.worker.js")}function I(e,t,i,l,a){const n=D();n.postMessage({type:"aes",method:e,msg:{key:t,iv:i,payload:l}}),n.onmessage=e=>{a(e)}}const A={isText:!1,key:"1234567812345678",iv:"1234567812345678",text:"",textResult:"",filename:"",fileResultName:"",isDecode:!1,fileList:[],fileListResult:[]};var F=Object(l["j"])({name:"Home",data(){return{loading:!1,...A}},computed:{downloadName:{get(){return this.fileResultName.split(/\.\w+$/)[0]},set(e){const t=this.filename.match(/\.\w+$/)||[""];this.fileResultName=e.replace(/(\t|\n)/g,"")+t[0]}}},methods:{resetData(){location.reload()},beforeDelete(){return this.fileListResult=[],!0},afterRead({file:e}){this.fileList=[{url:window.URL.createObjectURL(e),file:e,isImage:!0}],this.filename=this.fileResultName=e.name},onSubmit(){},formatSize(e){return e>1048576?(e/1024/1024).toFixed(2)+"Mb":(e/1024).toFixed(2)+"Kb"},checkRules(e){const t=this.isText;return 16!==this.key.length||16!==this.iv.length?Object(N["a"])({type:"warning",message:"请输入16位字符的密钥和Iv"}):t&&!this.text?Object(N["a"])({type:"warning",message:"请输入内容"}):t||this.fileList.length?(this.loading=!0,"encode"===e?this.encode():this.decode()):Object(N["a"])({type:"warning",message:"请上传文件"})},setFileName(e){if(this.fileList.length){const t=this.fileList[0].file,i=t.name.replace(/.\w*$/,t=>`-${"en"===e?"en":"de"}${t}`);this.fileResultName=i}return 0},async encode(){if(this.isDecode=!1,this.isText){const e=await T(this.text);I("base64encode",this.key,this.iv,e,e=>{this.textResult=e.data,this.loading=!1})}else{const e=await P(this.fileList[0].file);I("fileencode",this.key,this.iv,new Uint8Array(e),e=>{const t=new Blob([e.data.buffer]),i=window.URL.createObjectURL(t);this.fileListResult=[{src:i,isImage:!0,file:null,size:t.size}],this.setFileName("en"),this.loading=!1})}},async decode(){if(this.isDecode=!0,this.isText)I("base64decode",this.key,this.iv,this.text,e=>{this.textResult=e.data,this.loading=!1,this.textResult||Object(N["a"])("解密失败，请检查参数")});else{const e=await P(this.fileList[0].file);I("filedecode",this.key,this.iv,new Uint8Array(e),e=>{const t=e.data;if(0===t.length)return this.loading=!1,Object(N["a"])("解密失败，请检查文件或者参数");const i=new Blob([t.buffer]),l=this.filename.match(/\.(mov|mp4|mpeg|avi|wmv|flv|rmvb|mp3)$/i);let a=i;l&&(a=new File([i],"1."+l[1],{type:"audio/"+l[1]}));const n=window.URL.createObjectURL(a);this.fileListResult=[{src:n,isImage:!0,size:i.size}],this.setFileName("de"),this.loading=!1})}},previewResult(){Object(S["a"])({images:[this.fileListResult[0].src],closeable:!0})}},components:{},mounted(){}});i("c716");F.render=z,F.__scopeId="data-v-27c90657";var $=F;const M=[{path:"/",redirect:"/home"},{path:"/home",component:$,meta:{title:"Aes128加密"}}],B=Object(r["a"])({history:Object(r["b"])(),routes:M});B.beforeEach((e,t,i)=>{document.title=e.meta.title,i()});var C=B,H=i("5502"),K={},J={},W=Object(H["a"])({state:K,mutations:J,actions:{},modules:{}}),q=i("b970");i("157a"),i("a766");Object(l["e"])(o).use(W).use(C).use(q).mount("#app")},cf05:function(e,t,i){e.exports=i.p+"img/logo.a6dfa5c9.png"}});
//# sourceMappingURL=app.10c656cf.js.map